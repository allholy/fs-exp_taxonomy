{% extends 'classurvey/base.html' %}

{% block content %}

<form method="post" novalidate>

  {% csrf_token %}
  <fieldset>
    <legend>User Questions</legend>

    {{ form.as_p}}

    <div style="text-align: center;">
    <input type="submit" class="btn btn-outline-dark" value="Next">
    </div>
  </fieldset>

</form>
  

<script>
  const q1RadioOptions = document.getElementsByName('q1');
  const numSoundsInputField = document.getElementsByName('q2')[0];

  const setNumSoundsInputVisibility = () => {
    numSoundsInputField.disabled = !q1RadioOptions[0].checked
    if (numSoundsInputField.disabled) {
      numSoundsInputField.value = ''
    }
  }
  
  setNumSoundsInputVisibility()

  q1RadioOptions.forEach((element) => {
    element.addEventListener('change', (event) => {
      setNumSoundsInputVisibility();
    })
  })
</script>

{% endblock content %}