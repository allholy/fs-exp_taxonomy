{% extends 'classurvey/base.html' %}
{% load dict_key %}

{% block content %}


<form method="post" novalidate>
    {% csrf_token %}
    <input type="hidden" name="test_sound_id" value="{{ test_sound.id }}">

    <fieldset class="card card-question">
        <div class="card-header question">
            <legend>{{ form.chosen_class.label }}</legend>
        </div>
        <div class="card-body">

            <div class="center" style="margin: -15px 0px;">
                {{ answered_sounds_size }} / {{ all_sounds_size }}
            </div>

            <div class="row">
                <div class="col-12">
                    <iframe id="encoder_iframe" frameborder="0" scrolling="no"
                        src="https://freesound.org/embed/sound/iframe/{{ test_sound.sound_id }}/simple/large_no_info/"
                        class="iframe-layout">
                    </iframe>
                </div>
            </div>

            <div class="row">
                <div class="error-class">
                    {{ form.chosen_class.errors }}
                </div>
                {% for option in form.chosen_class %}
                {% if option.data.value == "m-sp" %}
                <div class="col-12 col-lg-6">
                    <div class="topclass-names">
                        MUSIC
                    </div>
                    {% elif option.data.value == "i-p" %}
                    <div class="topclass-names">
                        INSTRUMENT SAMPLES
                    </div>
                    {% elif option.data.value == "sp-s" %}
                    <div class="topclass-names">
                        SPEECH
                    </div>
                    {% elif option.data.value == "fx-o" %}
                </div>
                <div class="col-12 col-lg-6">
                    <div class="topclass-names">
                        SOUND EFFECTS
                    </div>
                    {% elif option.data.value == "ss-n" %}
                    <div class="topclass-names">
                        SOUNDSCAPES
                    </div>
                    {% endif %}
                    <div class="myradio" title='{{ class_titles|dict_key:option.data.value }}'>
                        {{ option }}
                    </div>
                    {% endfor %}
                </div>     
            </div>
            
            <div class="row">
                <div class="col-12">
                    <div class="error-confidence">
                        {{form.confidence.errors}}
                    </div>
                    <div class="confidence-label">
                        {{form.confidence.label}}
                    </div>
                    <div class="horizontal-radio">
                        {% for choice in form.confidence %}
                        {{choice}}
                        {% endfor %}    
                    </div>
                </div>
            </div>
                
            <div class="right">
                <input type="submit" class="btn btn-outline-dark" value="Next">
            </div>
        </div>
    </fieldset>
</form>


{% endblock %}